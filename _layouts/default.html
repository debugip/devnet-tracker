<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page.title }}</title>
  <link rel="stylesheet" href="/devnet-tracker/assets/style.css">
</head>
<body>
  <nav>
    <ul>
      <li><a href="/devnet-tracker/">Home</a></li>
      <li><a href="/devnet-tracker/topics/1-software-development-and-design">Software Development</a></li>
      <li><a href="/devnet-tracker/topics/2-understanding-and-using-apis">APIs</a></li>
      <li><a href="/devnet-tracker/topics/3-cisco-platforms-and-development">Cisco Platforms</a></li>
      <li><a href="/devnet-tracker/topics/4-application-deployment-and-security">App Deployment</a></li>
      <li><a href="/devnet-tracker/topics/5-infrastructure-and-automation">Infrastructure & Automation</a></li>
      <li><a href="/devnet-tracker/topics/6-network-fundamentals">Network Fundamentals</a></li>
    </ul>
  </nav>

  <main>
    {{ content }}
  </main>

  <script>
    const path = window.location.pathname;
    document.querySelectorAll('nav a').forEach(link => {
      if (link.getAttribute('href') === path) {
        link.style.fontWeight = 'bold';
      }
    });

    const main = document.querySelector('main');
    const checklistItems = main.querySelectorAll('input[type="checkbox"]');
    if (checklistItems.length > 0) {
      const completed = Array.from(checklistItems).filter(c => c.checked).length;
      const percent = Math.round((completed / checklistItems.length) * 100);
      const bar = document.createElement('div');
      bar.innerHTML = `<p>Progress: ${percent}%</p><div style='background:#eee;width:100%;height:10px;border-radius:5px;'><div style='background:#2ecc71;width:${percent}%;height:10px;border-radius:5px;'></div></div>`;
      main.prepend(bar);
    }
  </script>
</body>
</html>
